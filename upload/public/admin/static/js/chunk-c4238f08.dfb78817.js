(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c4238f08"],{"0b54":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"120px",rules:e.rules,"inline-message":!0}},[r("el-divider",{attrs:{"content-position":"left"}},[e._v(" 会员信息 ")]),r("el-form-item",{attrs:{label:"用户名",prop:"member.username"}},[r("el-input",{model:{value:e.form.member.username,callback:function(t){e.$set(e.form.member,"username",t)},expression:"form.member.username"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"member.mobile"}},[r("el-input",{model:{value:e.form.member.mobile,callback:function(t){e.$set(e.form.member,"mobile",t)},expression:"form.member.mobile"}})],1),r("el-form-item",{staticClass:"is-required",attrs:{label:"密码",prop:"member.password"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.form.member.password,callback:function(t){e.$set(e.form.member,"password",t)},expression:"form.member.password"}})],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v(" 企业信息 ")]),r("el-form-item",{attrs:{label:"公司名称",prop:"companyname"}},[r("el-input",{model:{value:e.form.companyname,callback:function(t){e.$set(e.form,"companyname",t)},expression:"form.companyname"}})],1),!0===e.live_fields.short_name?r("el-form-item",{attrs:{label:"公司简称",prop:"short_name"}},[r("el-input",{model:{value:e.form.short_name,callback:function(t){e.$set(e.form,"short_name",t)},expression:"form.short_name"}})],1):e._e(),r("el-form-item",{attrs:{label:"认证状态",prop:"audit"}},[r("el-radio-group",{model:{value:e.form.audit,callback:function(t){e.$set(e.form,"audit",t)},expression:"form.audit"}},e._l(e.options_audit,(function(t,o){return r("el-radio",{key:o,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),!0===e.live_fields.logo?r("el-form-item",{attrs:{label:"Logo",prop:"logo"}},[r("el-upload",{staticClass:"logo-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":e.handleLogoSuccess,"before-upload":e.beforeLogoUpload}},[e.form.logo?r("img",{staticClass:"logo",attrs:{src:e.logoUrl}}):r("i",{staticClass:"el-icon-plus logo-uploader-icon"})]),r("span",{staticClass:"smalltip"},[r("i",{staticClass:"el-icon-info"}),e._v(" 建议尺寸120*120 ")])],1):e._e(),r("el-form-item",{attrs:{label:"企业性质",prop:"nature"}},[r("el-select",{attrs:{placeholder:"请选择企业性质"},model:{value:e.form.nature,callback:function(t){e.$set(e.form,"nature",t)},expression:"form.nature"}},e._l(e.options_nature,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"公司规模",prop:"scale"}},[r("el-select",{attrs:{placeholder:"请选择公司规模"},model:{value:e.form.scale,callback:function(t){e.$set(e.form,"scale",t)},expression:"form.scale"}},e._l(e.options_scale,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"所属行业",prop:"trade"}},[r("el-select",{attrs:{placeholder:"请选择所属行业"},model:{value:e.form.trade,callback:function(t){e.$set(e.form,"trade",t)},expression:"form.trade"}},e._l(e.options_trade,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),!0===e.live_fields.registered?r("el-form-item",{attrs:{label:"注册资金",prop:"registered"}},[r("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入注册资金"},model:{value:e.form.registered,callback:function(t){e.$set(e.form,"registered",t)},expression:"form.registered"}},[r("el-select",{staticClass:"input-sel",attrs:{slot:"append",placeholder:"请选择"},slot:"append",model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}},[r("el-option",{attrs:{label:"万人民币",value:"0"}}),r("el-option",{attrs:{label:"万美元",value:"1"}})],1)],1)],1):e._e(),!0===e.live_fields.info.website?r("el-form-item",{attrs:{label:"公司网址",prop:"info.website"}},[r("el-input",{model:{value:e.form.info.website,callback:function(t){e.$set(e.form.info,"website",t)},expression:"form.info.website"}})],1):e._e(),!0===e.live_fields.tag?r("el-form-item",{attrs:{label:"企业福利",prop:"tag"}},[r("el-select",{staticClass:"tag-input",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择企业福利","multiple-limit":6},model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}},e._l(e.options_tag,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),r("el-form-item",{attrs:{label:"所在地区",prop:"citycategory_arr"}},[r("el-cascader",{attrs:{options:e.options_citycategory,"show-all-levels":!1},model:{value:e.form.citycategory_arr,callback:function(t){e.$set(e.form,"citycategory_arr",t)},expression:"form.citycategory_arr"}})],1),r("el-form-item",{attrs:{label:"联系地址",prop:"info.address"}},[r("el-input",{model:{value:e.form.info.address,callback:function(t){e.$set(e.form.info,"address",t)},expression:"form.info.address"}})],1),!0===e.live_fields.info.short_desc?r("el-form-item",{attrs:{label:"公司简介",prop:"info.short_desc"}},[r("el-input",{model:{value:e.form.info.short_desc,callback:function(t){e.$set(e.form.info,"short_desc",t)},expression:"form.info.short_desc"}})],1):e._e(),!0===e.live_fields.info.content?r("el-form-item",{attrs:{label:"公司介绍",prop:"info.content"}},[r("el-input",{attrs:{type:"textarea",rows:"10"},model:{value:e.form.info.content,callback:function(t){e.$set(e.form.info,"content",t)},expression:"form.info.content"}})],1):e._e(),r("el-divider",{attrs:{"content-position":"left"}},[e._v(" 联系信息 ")]),r("el-form-item",{attrs:{label:"联系人",prop:"contact.contact"}},[r("el-input",{model:{value:e.form.contact.contact,callback:function(t){e.$set(e.form.contact,"contact",t)},expression:"form.contact.contact"}})],1),r("el-form-item",{attrs:{label:"联系手机",prop:"contact.mobile"}},[r("el-input",{model:{value:e.form.contact.mobile,callback:function(t){e.$set(e.form.contact,"mobile",t)},expression:"form.contact.mobile"}})],1),!0===e.live_fields.contact.weixin?r("el-form-item",{attrs:{label:"联系微信",prop:"contact.weixin"}},[r("el-input",{model:{value:e.form.contact.weixin,callback:function(t){e.$set(e.form.contact,"weixin",t)},expression:"form.contact.weixin"}})],1):e._e(),!0===e.live_fields.contact.telephone?r("el-form-item",{attrs:{label:"联系固话",prop:"contact.telephone"}},[r("el-input",{model:{value:e.form.contact.telephone,callback:function(t){e.$set(e.form.contact,"telephone",t)},expression:"form.contact.telephone"}})],1):e._e(),!0===e.live_fields.contact.email?r("el-form-item",{attrs:{label:"联系邮箱",prop:"contact.email"}},[r("el-input",{model:{value:e.form.contact.email,callback:function(t){e.$set(e.form.contact,"email",t)},expression:"form.contact.email"}})],1):e._e(),!0===e.live_fields.contact.qq?r("el-form-item",{attrs:{label:"联系QQ",prop:"contact.qq"}},[r("el-input",{model:{value:e.form.contact.qq,callback:function(t){e.$set(e.form.contact,"qq",t)},expression:"form.contact.qq"}})],1):e._e(),r("el-divider",{attrs:{"content-position":"left"}},[e._v(" 积分/套餐设置 ")]),r("el-form-item",{attrs:{label:"赠送积分",prop:"setmeal.points"}},[r("el-input",{model:{value:e.form.setmeal.points,callback:function(t){e.$set(e.form.setmeal,"points",t)},expression:"form.setmeal.points"}})],1),r("el-form-item",{attrs:{label:"赠送套餐",prop:"setmeal.setmeal_id"}},[r("el-radio-group",{model:{value:e.form.setmeal.setmeal_id,callback:function(t){e.$set(e.form.setmeal,"setmeal_id",t)},expression:"form.setmeal.setmeal_id"}},e._l(e.options_setmeal,(function(t,o){return r("el-radio",{key:o,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),r("el-form-item",{attrs:{label:"收费金额",prop:"setmeal.charge"}},[r("el-input",{model:{value:e.form.setmeal.charge,callback:function(t){e.$set(e.form.setmeal,"charge",t)},expression:"form.setmeal.charge"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){return e.onSubmit("form")}}},[e._v(" 保存 ")]),r("el-button",{on:{click:function(t){return e.goto("/user/company/list")}}},[e._v(" 返回 ")])],1)],1)],1)},a=[],n=(r("caad"),r("d81d"),r("d3b7"),r("ac1f"),r("2532"),r("3ca3"),r("1276"),r("ddb0"),r("2b3d"),r("5530")),i=r("2909"),l=r("1063"),s=r("8194"),c=r("fcac"),m=r("61f7"),u=r("5f87"),d=r("52b5"),f=r("d722"),p={data:function(){var e=this,t=function(e,t,r){""==t&&r(),Object(m["d"])(t)?r():r(new Error("请输入正确的网址"))},r=function(t,r,o){if(Object(m["e"])(r))o(new Error("用户名不能是纯数字"));else if(Object(m["b"])(r))o(new Error("用户名不能是邮箱"));else{var a={field:"username",value:r,self:e.uid,utype:1};Object(s["c"])(a).then((function(e){0==e.data?o(new Error("用户名已被占用")):o()}))}},o=function(t,r,o){if(Object(m["c"])(r)){var a={field:"mobile",value:r,self:e.uid,utype:1};Object(s["c"])(a).then((function(e){0==e.data?o(new Error("手机号已被占用")):o()}))}else o(new Error("请输入正确的手机号"))},a=function(t,r,o){e.uid>0?o():""==r?o(new Error("请输入密码")):o()},n=function(e,t,r){Object(m["c"])(t)?r():r(new Error("请输入正确的手机号"))},i=function(e,t,r){Object(m["b"])(t)?r():r(new Error("请输入正确的邮箱"))};return{submitLoading:!1,headers:{admintoken:Object(u["b"])()},fileupload_size:"",fileupload_ext:"",apiUpload:window.global.RequestBaseUrl+f["a"].upload,options_audit:[],options_nature:[],options_trade:[],options_citycategory:[],options_scale:[],options_tag:[],options_setmeal:[],live_fields:{logo:!0,short_name:!0,registered:!0,tag:!0,contact:{weixin:!0,telephone:!0,qq:!0,email:!0},info:{website:!0,short_desc:!0,content:!0}},form:{member:{username:"",password:"",mobile:""},companyname:"",short_name:"",nature:"",trade:"",logo:"",citycategory_arr:"",scale:"",registered:"",currency:"0",tag:[],audit:0,contact:{contact:"",mobile:"",weixin:"",telephone:"",qq:"",email:""},info:{website:"",short_desc:"",content:"",address:""},setmeal:{points:0,setmeal_id:1,charge:0}},logoUrl:"",rules:{member:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"},{validator:r,trigger:"blur"}],password:[{validator:a,trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:o,trigger:"blur"}]},logo:[{required:!0,message:"请上传logo",trigger:"blur"}],companyname:[{required:!0,message:"请输入公司名称",trigger:"blur"},{max:60,message:"长度在 1 到 60 个字符",trigger:"blur"}],short_name:[{required:!0,message:"请输入公司简称",trigger:"blur"},{max:60,message:"长度在 1 到 60 个字符",trigger:"blur"}],nature:[{required:!0,message:"请选择公司性质",trigger:"change"}],trade:[{required:!0,message:"请选择所属行业",trigger:"change"}],citycategory_arr:[{required:!0,message:"请选择所在地区",trigger:"change"}],scale:[{required:!0,message:"请选择公司规模",trigger:"change"}],registered:[{required:!0,message:"请输入注册资金",trigger:"blur"},{max:15,message:"长度在 1 到 15 个字符",trigger:"blur"}],tag:[{required:!0,message:"请选择企业福利",trigger:"change"}],contact:{contact:[{required:!0,message:"请输入联系人",trigger:"blur"},{max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],mobile:[{required:!0,message:"请输入联系手机",trigger:"blur"},{validator:n,trigger:"blur"}],weixin:[{required:!0,message:"请输入微信",trigger:"blur"}],telephone:[{required:!0,message:"请输入联系座机",trigger:"blur"}],qq:[{required:!0,message:"请输入联系QQ",trigger:"blur"}],email:[{required:!0,message:"请输入联系邮箱",trigger:"blur"},{validator:i,trigger:"blur"}]},info:{website:[{required:!0,message:"请输入公司网址",trigger:"blur"},{max:200,message:"长度在 0 到 200 个字符",trigger:"blur"},{validator:t,trigger:"blur"}],short_desc:[{required:!0,message:"请输入公司简介",trigger:"blur"},{max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}],content:[{required:!0,message:"请输入公司介绍",trigger:"blur"}],address:[{required:!0,message:"请输入公司地址",trigger:"blur"},{max:255,message:"长度在 0 到 255 个字符",trigger:"blur"}]}}}},computed:{config:function(){return this.$store.state.config}},created:function(){this.fileupload_size=this.config.fileupload_size,this.fileupload_ext=this.config.fileupload_ext,this.fetchData()},methods:{fetchData:function(){var e=this;Object(l["c"])({},"get").then((function(t){var r=t.data;return 0==r.Company.logo.is_display?(e.live_fields.logo=!1,e.rules.logo=[]):0==r.Company.logo.is_require&&(e.rules.logo=[]),0==r.Company.short_name.is_display?(e.live_fields.short_name=!1,e.rules.short_name=[]):0==r.Company.short_name.is_require&&(e.rules.short_name=[]),0==r.Company.registered.is_display?(e.live_fields.registered=!1,e.rules.registered=[]):0==r.Company.registered.is_require&&(e.rules.registered=[]),0==r.Company.tag.is_display?(e.live_fields.tag=!1,e.rules.tag=[]):0==r.Company.tag.is_require&&(e.rules.tag=[]),0==r.CompanyInfo.website.is_display?(e.live_fields.info.website=!1,e.rules.info.website=[]):0==r.CompanyInfo.website.is_require&&(e.rules.info.website=[]),0==r.CompanyInfo.short_desc.is_display?(e.live_fields.info.short_desc=!1,e.rules.info.short_desc=[]):0==r.CompanyInfo.short_desc.is_require&&(e.rules.info.short_desc=[]),0==r.CompanyInfo.content.is_display?(e.live_fields.info.content=!1,e.rules.info.content=[]):0==r.CompanyInfo.content.is_require&&(e.rules.info.content=[]),0==r.CompanyContact.weixin.is_display?(e.live_fields.contact.weixin=!1,e.rules.contact.weixin=[]):0==r.CompanyContact.weixin.is_require&&(e.rules.contact.weixin=[]),0==r.CompanyContact.telephone.is_display?(e.live_fields.contact.telephone=!1,e.rules.contact.telephone=[]):0==r.CompanyContact.telephone.is_require&&(e.rules.contact.telephone=[]),0==r.CompanyContact.qq.is_display?(e.live_fields.contact.qq=!1,e.rules.contact.qq=[]):0==r.CompanyContact.qq.is_require&&(e.rules.contact.qq=[]),0==r.CompanyContact.email.is_display?(e.live_fields.contact.email=!1,e.rules.contact.email=[]):0==r.CompanyContact.email.is_require&&(e.rules.contact.email=[]),Object(d["a"])({type:"companyAudit,companyNature,trade,citycategory,companyScale,jobTag,setmealList"})})).then((function(t){e.options_audit=Object(i["a"])(t.data.companyAudit),e.options_nature=Object(i["a"])(t.data.companyNature),e.options_trade=Object(i["a"])(t.data.trade),e.options_citycategory=Object(i["a"])(t.data.citycategory),e.options_citycategory=e.options_citycategory.map((function(e){if(e.children.length){var t=e.children;return t=t.map((function(e){return e.children.length?{label:e.label,value:e.value,children:e.children}:{label:e.label,value:e.value}})),{value:e.value,label:e.label,children:t}}return{value:e.value,label:e.label}})),e.options_scale=Object(i["a"])(t.data.companyScale),e.options_tag=Object(i["a"])(t.data.jobTag),e.options_setmeal=Object(i["a"])(t.data.setmealList)})).catch((function(){}))},onSubmit:function(e){var t=this;if(!0===this.submitLoading)return!1;this.submitLoading=!0;var r=this,o=Object(n["a"])({},this.form);this.$refs[e].validate((function(e){if(!e)return t.submitLoading=!1,!1;var a=t.form.citycategory_arr;o.district1=a[0],o.district2=void 0!==a[1]?a[1]:0,o.district3=void 0!==a[2]?a[2]:0,o.contact=Object(n["a"])({},t.form.contact),Object(c["a"])(o).then((function(e){return t.$message.success(e.message),setTimeout((function(){r.$router.push("/user/company/list")}),1500),!0})).catch((function(){t.submitLoading=!1}))}))},handleLogoSuccess:function(e,t){if(200!=e.code)return this.$message.error(e.message),!1;this.logoUrl=URL.createObjectURL(t.raw),this.form.logo=e.data.file_id},beforeLogoUpload:function(e){var t=e.type.split("/"),r=t[1],o=this.fileupload_ext.split(",");return o.includes(r)?!(e.size/1024>this.fileupload_size)||(this.$message.error("上传文件最大为".concat(this.fileupload_size,"kb")),!1):(this.$message.error("上传文件格式不允许"),!1)},goto:function(e){this.$router.push(e)}}},b=p,g=(r("8f40"),r("2877")),_=Object(g["a"])(b,o,a,!1,null,"77c03f44",null);t["default"]=_.exports},"52b5":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("b775"),a=r("d722");function n(e){return Object(o["a"])({url:a["a"].getClassify,method:"get",params:e})}},8194:function(e,t,r){"use strict";r.d(t,"f",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"g",(function(){return m})),r.d(t,"j",(function(){return u})),r.d(t,"i",(function(){return d})),r.d(t,"k",(function(){return f})),r.d(t,"h",(function(){return p})),r.d(t,"a",(function(){return b}));var o=r("b775"),a=r("d722");function n(e){return Object(o["a"])({url:a["a"].memberList,method:"get",params:e})}function i(e){return Object(o["a"])({url:a["a"].memberAdd,method:"post",data:e})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==t?Object(o["a"])({url:a["a"].memberEdit,method:t,data:e}):Object(o["a"])({url:a["a"].memberEdit,method:t,params:e})}function s(e){return Object(o["a"])({url:a["a"].memberDelete,method:"post",data:e})}function c(e){return Object(o["a"])({url:a["a"].memberCheckUnique,method:"post",data:e})}function m(e){return Object(o["a"])({url:a["a"].memberLock,method:"post",data:e})}function u(e){return Object(o["a"])({url:a["a"].memberPointsList,method:"get",params:e})}function d(e){return Object(o["a"])({url:a["a"].memberPointsEdit,method:"post",data:e})}function f(e){return Object(o["a"])({url:a["a"].memberPointsLog,method:"get",params:e})}function p(e){return Object(o["a"])({url:a["a"].memberLoginLog,method:"get",params:e})}function b(e){return Object(o["a"])({url:a["a"].management,method:"get",params:e})}},"8f40":function(e,t,r){"use strict";var o=r("c62c"),a=r.n(o);a.a},c62c:function(e,t,r){},fcac:function(e,t,r){"use strict";r.d(t,"k",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return u})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return b})),r.d(t,"l",(function(){return g}));var o=r("b775"),a=r("d722");function n(e){return Object(o["a"])({url:a["a"].companyList,method:"get",params:e})}function i(e){return Object(o["a"])({url:a["a"].companyAdd,method:"post",data:e})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==t?Object(o["a"])({url:a["a"].companyEdit,method:t,data:e}):Object(o["a"])({url:a["a"].companyEdit,method:t,params:e})}function s(e){return Object(o["a"])({url:a["a"].companyAudit,method:"post",data:e})}function c(e){return Object(o["a"])({url:a["a"].companyImgList,method:"get",params:e})}function m(e){return Object(o["a"])({url:a["a"].companyImgAudit,method:"post",data:e})}function u(e){return Object(o["a"])({url:a["a"].companyImgDelete,method:"post",data:e})}function d(e){return Object(o["a"])({url:a["a"].companyInterviewList,method:"get",params:e})}function f(e){return Object(o["a"])({url:a["a"].companyInterviewVideoList,method:"get",params:e})}function p(e){return Object(o["a"])({url:a["a"].companyDownList,method:"get",params:e})}function b(e){return Object(o["a"])({url:a["a"].companyDelete,method:"post",data:e})}function g(e){return Object(o["a"])({url:a["a"].companySetService,method:"post",data:e})}}}]);