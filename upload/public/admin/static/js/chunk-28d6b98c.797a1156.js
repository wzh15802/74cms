(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28d6b98c"],{"40e2":function(e,t,i){},"52e0":function(e,t,i){"use strict";var l=i("40e2"),a=i.n(l);a.a},a282:function(e,t,i){},e379:function(e,t,i){"use strict";var l=i("a282"),a=i.n(l);a.a},eb03:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-tabs",{attrs:{type:"border-card"}},[i("el-tab-pane",{attrs:{label:"模块设计",lazy:!0}},[i("mobilemodule")],1),i("el-tab-pane",{attrs:{label:"菜单设置",lazy:!0}},[i("mobilemenu")],1)],1)],1)},a=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container mobile-module"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:5}},[i("div",{staticClass:"preview_block"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("效果预览")])]),1==e.header.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/header/"+e.header.plan_id+".jpg"}}):e._e(),1==e.menu.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/menu/"+e.menu.plan_id+".jpg"}}):e._e(),1==e.section.is_display?i("div",{staticClass:"item-section"},e._l(e.section.plan_id,(function(e,t){return i("img",{key:t,staticClass:"preview_img_section",attrs:{src:"static/index_module/section/"+e+".jpg"}})})),0):e._e(),1==e.notice.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.notice.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/notice/"+e.notice.plan_id+".jpg"}}):e._e(),1==e.famous.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.famous.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/famous/"+e.famous.plan_id+".jpg"}}):e._e(),1==e.hotword.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.hotword.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/hotword/"+e.hotword.plan_id+".jpg"}}):e._e(),1==e.joblist.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.joblist.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/joblist/"+e.joblist.plan_id+".jpg"}}):e._e(),1==e.article.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.article.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/article/1.jpg"}}):e._e()])],1)]),i("el-col",{attrs:{span:19}},[i("el-form",{ref:"form",attrs:{"label-width":"80px"}},[i("el-card",{staticStyle:{"max-height":"650px","overflow-y":"auto"},attrs:{shadow:"never"}},[i("div",{staticStyle:{padding:"20px"}},[i("div",{staticClass:"module_tit"},[e._v("头部")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.header.is_display,callback:function(t){e.$set(e.header,"is_display",t)},expression:"header.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.header.plan_id,callback:function(t){e.$set(e.header,"plan_id",t)},expression:"header.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 普通头部 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 带logo头部 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 纯色头部 ")]),i("el-radio",{attrs:{label:"4"}},[e._v(" 搜索边压 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("菜单栏")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.menu.is_display,callback:function(t){e.$set(e.menu,"is_display",t)},expression:"menu.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.menu.plan_id,callback:function(t){e.$set(e.menu,"plan_id",t)},expression:"menu.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 两行10图标1 ")]),i("el-radio",{attrs:{label:"4"}},[e._v(" 两行10图标2 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 单行5图标 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 单行4图标 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("版块")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.section.is_display,callback:function(t){e.$set(e.section,"is_display",t)},expression:"section.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择版块"}},[i("el-checkbox-group",{attrs:{max:2},on:{change:e.fun_change_section_selected},model:{value:e.section_list,callback:function(t){e.section_list=t},expression:"section_list"}},[i("el-checkbox",{attrs:{label:"company"}},[e._v("知名企业")]),i("el-checkbox",{attrs:{label:"nearby"}},[e._v("附近职位")]),i("el-checkbox",{attrs:{label:"high_wage"}},[e._v("高薪职位")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("公告栏")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.notice.is_display,callback:function(t){e.$set(e.notice,"is_display",t)},expression:"notice.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.notice.plan_id,callback:function(t){e.$set(e.notice,"plan_id",t)},expression:"notice.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 单行滚动式 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 双行滚动式 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("名企栏")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.famous.is_display,callback:function(t){e.$set(e.famous,"is_display",t)},expression:"famous.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.famous.plan_id,callback:function(t){e.$set(e.famous,"plan_id",t)},expression:"famous.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 方块滚动式 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 横块滚动式 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 两行6个线式 ")]),i("el-radio",{attrs:{label:"4"}},[e._v(" 三行9个块式 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("热门职位")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.hotword.is_display,callback:function(t){e.$set(e.hotword,"is_display",t)},expression:"hotword.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.hotword.plan_id,callback:function(t){e.$set(e.hotword,"plan_id",t)},expression:"hotword.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 边框式 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 背景块式 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 纯字式 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("信息列表")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.joblist.is_display,callback:function(t){e.$set(e.joblist,"is_display",t)},expression:"joblist.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.joblist.plan_id,callback:function(t){e.$set(e.joblist,"plan_id",t)},expression:"joblist.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 精准推荐1 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 精准推荐2 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 职位块列表1 ")]),i("el-radio",{attrs:{label:"4"}},[e._v(" 综合列表 ")]),i("el-radio",{attrs:{label:"5"}},[e._v(" 职位块列表2 ")]),i("el-radio",{attrs:{label:"6"}},[e._v(" 职位分类 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("新闻资讯")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.article.is_display,callback:function(t){e.$set(e.article,"is_display",t)},expression:"article.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1)],1)]),i("el-form-item",{staticStyle:{"margin-top":"20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)],1)],1)},o=[],r=(i("ac1f"),i("1276"),i("5530")),n=i("1063"),c={data:function(){return{section_list:[],header:{},menu:{},section:{},notice:{},famous:{},hotword:{},joblist:{},article:{}}},created:function(){this.fetchInfo()},methods:{fun_change_section_selected:function(){this.section.plan_id=this.section_list},fetchInfo:function(){var e=this;Object(n["l"])({},"get").then((function(t){var i=Object(r["a"])({},t.data),l=i.header,a=i.menu,s=i.section,o=i.notice,n=i.famous,c=i.hotword,d=i.joblist,u=i.article;e.header=l,e.header.is_display=e.header.is_display+"",e.menu=a,e.menu.is_display=e.menu.is_display+"",e.section=s,e.section.is_display=e.section.is_display+"",e.section.plan_id=e.section.plan_id.split(","),e.section_list=e.section.plan_id,e.notice=o,e.notice.is_display=e.notice.is_display+"",e.famous=n,e.famous.is_display=e.famous.is_display+"",e.hotword=c,e.hotword.is_display=e.hotword.is_display+"",e.joblist=d,e.joblist.is_display=e.joblist.is_display+"",e.article=u,e.article.is_display=e.article.is_display+"",e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this,i=this,l={header:i.header,menu:i.menu,section:i.section,notice:i.notice,famous:i.famous,hotword:i.hotword,joblist:i.joblist,article:i.article};Object(n["l"])(l).then((function(e){return t.$message.success(e.message),!0})).catch((function(){}))}}},d=c,u=(i("52e0"),i("2877")),_=Object(u["a"])(d,s,o,!1,null,null,null),p=_.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"菜单名称",prop:"title"}}),i("el-table-column",{attrs:{label:"自定义名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.custom_title?i("span",[e._v(" "+e._s(t.row.custom_title)+" ")]):i("span",{staticClass:"font_info"},[e._v("系统默认")])]}}])}),i("el-table-column",{attrs:{label:"跳转url"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.link_url?i("span",[e._v(" "+e._s(t.row.link_url)+" ")]):i("span",{staticClass:"font_info"},[e._v("系统默认")])]}}])}),i("el-table-column",{attrs:{label:"图标"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.iconUrl?i("el-popover",{attrs:{placement:"right",width:"120",height:"120",trigger:"click"}},[i("img",{staticStyle:{width:"120px",height:"120px"},attrs:{src:t.row.iconUrl}}),i("span",{staticClass:"font_brand",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[e._v(" [点击查看] ")])]):i("span",{staticClass:"font_info"},[e._v("系统默认")])]}}])}),i("el-table-column",{attrs:{label:"排序",prop:"sort_id"}}),i("el-table-column",{attrs:{align:"center",label:"是否显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:e._f("colorFilter")(t.row.is_display)}},[e._v(" "+e._s(1==t.row.is_display?"显示":"隐藏")+" ")])]}}])}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){return e.funEdit(t.row)}}},[e._v(" 修改 ")])]}}])})],1),e.dialogFormVisible?i("el-dialog",{attrs:{title:"编辑菜单",visible:e.dialogFormVisible,width:"35%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[i("diaform",{attrs:{"item-info":e.itemInfo},on:{setDialogFormVisible:e.closeDialog,pageReload:e.fetchData}})],1):e._e()],1)},f=[],b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-form",{ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"150px",rules:e.rules,"inline-message":!0}},[i("el-form-item",{attrs:{label:"菜单名称"}},[i("el-input",{attrs:{value:e.itemInfo.title,disabled:""}})],1),i("el-form-item",{attrs:{label:"自定义名称",prop:"custom_title"}},[i("el-input",{attrs:{placeholder:"不填写则显示默认菜单名称"},model:{value:e.form.custom_title,callback:function(t){e.$set(e.form,"custom_title",t)},expression:"form.custom_title"}})],1),i("el-form-item",{attrs:{label:"自定义图标",prop:"icon"}},[i("el-upload",{staticClass:"icon-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":e.handleIconSuccess,"before-upload":e.beforeIconUpload}},[e.form.icon?i("img",{staticClass:"icon",attrs:{src:e.iconUrl}}):i("i",{staticClass:"el-icon-plus icon-uploader-icon"})]),""!=e.iconUrl?i("a",{staticClass:"font_brand",staticStyle:{cursor:"pointer"},attrs:{href:"javascript:;"},on:{click:e.delIcon}},[e._v(" [删除] ")]):e._e()],1),i("el-form-item",{attrs:{label:"跳转链接",prop:"link_url"}},[i("el-input",{attrs:{placeholder:"不填写则跳转默认页面"},model:{value:e.form.link_url,callback:function(t){e.$set(e.form,"link_url",t)},expression:"form.link_url"}})],1),i("el-form-item",{attrs:{label:"排序",prop:"sort_id"}},[i("el-input",{model:{value:e.form.sort_id,callback:function(t){e.$set(e.form,"sort_id",t)},expression:"form.sort_id"}})],1),i("el-form-item",{attrs:{label:"是否显示",prop:"is_display"}},[i("el-switch",{model:{value:e.form.is_display,callback:function(t){e.$set(e.form,"is_display",t)},expression:"form.is_display"}})],1),i("el-form-item",{attrs:{label:" "}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")]),i("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},v=[],h=(i("caad"),i("d3b7"),i("2532"),i("3ca3"),i("ddb0"),i("2b3d"),i("d722")),g=i("5f87"),y={props:["itemInfo"],data:function(){return{headers:{admintoken:Object(g["b"])()},fileupload_size:"",fileupload_ext:"",apiUpload:window.global.RequestBaseUrl+h["a"].upload,iconUrl:"",form:{id:0,custom_title:"",icon:0,link_url:"",sort_id:"",is_display:!0},rules:{}}},computed:{config:function(){return this.$store.state.config}},created:function(){this.fileupload_size=this.config.fileupload_size,this.fileupload_ext=this.config.fileupload_ext,this.fetchInfo()},methods:{fetchInfo:function(){null!==this.itemInfo&&(this.itemInfo.is_display=1==this.itemInfo.is_display,this.iconUrl=this.itemInfo.iconUrl,this.form=Object(r["a"])(Object(r["a"])({},this.form),this.itemInfo))},editSave:function(e,t){var i=this;this.$refs[t].validate((function(t){if(!t)return!1;e.is_display=!0===e.is_display?1:0,Object(n["f"])(e).then((function(e){return i.$message.success(e.message),i.closeDialog(),i.pageReload(),!0})).catch((function(){}))}))},onSubmit:function(e){var t=this,i=Object(r["a"])({},t.form);t.editSave(i,e)},closeDialog:function(){this.$emit("setDialogFormVisible")},pageReload:function(){this.$emit("pageReload")},delIcon:function(){this.iconUrl="",this.form.icon=0},handleIconSuccess:function(e,t){if(200!=e.code)return this.$message.error(e.message),!1;this.iconUrl=URL.createObjectURL(t.raw),this.form.icon=e.data.file_id},beforeIconUpload:function(e){var t=e.type.split("/"),i=t[1],l=this.fileupload_ext.split(",");return l.includes(i)?!(e.size/1024>this.fileupload_size)||(this.$message.error("上传文件最大为".concat(this.fileupload_size,"kb")),!1):(this.$message.error("上传文件格式不允许"),!1)}}},w=y,x=(i("e379"),Object(u["a"])(w,b,v,!1,null,"59b04cd6",null)),k=x.exports,j={filters:{colorFilter:function(e){return 1==e?"success":"danger"}},components:{diaform:k},data:function(){return{itemInfo:null,dialogFormVisible:!1,dialogListVisible:!1,list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(n["g"])({}).then((function(t){e.list=t.data.items,e.listLoading=!1}))},closeDialog:function(){this.dialogFormVisible=!1},funEdit:function(e){this.itemInfo=e,this.dialogFormVisible=!0}}},C=j,$=Object(u["a"])(C,m,f,!1,null,null,null),I=$.exports,S={components:{mobilemodule:p,mobilemenu:I}},U=S,O=Object(u["a"])(U,l,a,!1,null,null,null);t["default"]=O.exports}}]);