(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68625f74"],{"0be5":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(t.who,{tag:"components",attrs:{utype:t.utype}})},o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"choose_box"},[s("div",{staticClass:"b_title"},[t._v("请选择注册身份")]),s("div",{staticClass:"b_group"},[s("router-link",{staticClass:"b_item",attrs:{to:"/reg/personal"}},[s("div",{staticClass:"b_ico"}),s("div",{staticClass:"b_btn"},[t._v("注册求职者会员")]),s("div",{staticClass:"b_des"},[t._v("我是求职者，我要找工作")])]),s("router-link",{staticClass:"b_item right",attrs:{to:"/reg/company"}},[s("div",{staticClass:"b_ico c2"}),s("div",{staticClass:"b_btn"},[t._v("注册企业招聘会员")]),s("div",{staticClass:"b_des"},[t._v("我是企业/个体户，我要招人才")])]),s("div",{staticClass:"clear"})],1)])},n=[],i={name:"Choose"},r=i,l=(s("c878"),s("2877")),h=Object(l["a"])(r,c,n,!1,null,"280ae2eb",null),p=h.exports,u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reg_box"},[s("div",{staticClass:"reg_group"},[s("div",{staticClass:"g_title"},[t._v(t._s("Hi~，欢迎注册"+t.title+"会员"))]),s("div",{staticClass:"g_input"},[1===t.utype?s("el-input",{attrs:{placeholder:"请输入企业名称",clearable:""},model:{value:t.companyname,callback:function(e){t.companyname=e},expression:"companyname"}}):t._e(),1===t.utype?s("el-input",{attrs:{placeholder:"请输入联系人姓名",clearable:""},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}}):t._e(),s("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),s("el-input",{attrs:{placeholder:"请输入验证码",clearable:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),s("div",{staticClass:"for_position"},[s("el-button",{attrs:{type:"text"},on:{click:t.sendSms}},[t._v(t._s(t.$store.state.sendSmsBtnText))])],1),s("el-input",{attrs:{placeholder:"请设置账号密码","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("el-input",{attrs:{placeholder:"请重复输入密码","show-password":""},model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}})],1),s("div",{staticClass:"g_agree"},[s("el-checkbox",{staticClass:"for_after",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}),t._v(" 已阅读并同意 "),s("span",{on:{click:function(e){return t.showAgreement("agreement")}}},[t._v("《用户协议》")]),t._v("和 "),s("span",{on:{click:function(e){return t.showAgreement("privacy")}}},[t._v("《隐私政策》")])],1),s("el-button",{staticClass:"g_btn",attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s("注册"+t.title+"会员"))]),s("div",{staticClass:"g_sw_login"},[t._v("已有账号？ "),s("span",{on:{click:t.handlerLogin}},[t._v("立即登录")])])],1),s("el-dialog",{attrs:{title:t.showTextTitle,visible:t.showText},on:{"update:visible":function(e){t.showText=e}}},[s("div",{staticClass:"agreement"},[s("span",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:t._s(t.showTextContent)}})]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showText=!1}}},[t._v("关 闭")])],1)]),s("Captcha",{ref:"captcha"})],1)},d=[],m=s("e16f"),f=s("751a"),v=s("d722"),g=s("45ce"),_={name:"Register",props:["utype"],components:{Captcha:g["a"]},data:function(){return{showTextTitle:"注册协议",showTextContent:"",showText:!1,checked:!0,companyname:"",contact:"",mobile:"",code:"",password:"",repeatPassword:"",title:"求职者",regularMobile:/^13[0-9]{9}$|14[0-9]{9}$|15[0-9]{9}$|18[0-9]{9}$|17[0-9]{9}$|16[0-9]{9}$|19[0-9]{9}$/}},mounted:function(){this.title=1===this.utype?"企业招聘":"求职者",this.$store.commit("clearCountDownFun")},methods:{handlerLogin:function(){1==this.utype?this.$router.push("/login/company"):this.$router.push("/login")},showAgreement:function(t){var e=this;this.showTextContent="",this.showText=!0,this.showTextTitle="agreement"==t?"注册协议":"隐私政策",f["a"].get(v["a"].agreement,{}).then((function(s){200===parseInt(s.code)?e.showTextContent="agreement"==t?s.data.agreement:s.data.privacy:e.$message.error(s.message)})).catch((function(){}))},handleSubmit:function(){var t=this;if(!this.checked)return this.$message.error("请同意用户协议和隐私政策"),!1;if(1==this.utype&&!this.companyname)return this.$message.error("请输入企业名称"),!1;if(1==this.utype&&!this.contact)return this.$message.error("请输入联系人"),!1;if(!this.mobile)return this.$message.error("请输入手机号"),!1;if(!this.regularMobile.test(this.mobile))return this.$message.error("手机号格式不正确"),!1;if(!this.code)return this.$message.error("请输入验证码"),!1;if(!this.password)return this.$message.error("请输入密码"),!1;if(!this.repeatPassword)return this.$message.error("请再次确认密码"),!1;if(this.password!==this.repeatPassword)return this.$message.error("两次输入的密码不一致"),!1;var e={mobile:this.mobile,code:this.code,password:this.password},s=v["a"].reg_personal;1==this.utype&&(e.companyname=this.companyname,e.contact=this.contact,s=v["a"].reg_company),f["a"].post(s,e).then((function(e){200===parseInt(e.code)?(t.$message({type:"success",message:e.message}),t.$store.commit("clearCountDownFun"),t.$store.commit("setLoginState",{whether:!0,utype:e.data.utype,token:e.data.token,mobile:e.data.mobile,userIminfo:e.data.user_iminfo}),200!=e.data.next_code&&Object(m["a"])({code:e.data.next_code,message:""})):t.$message.error(e.message)})).catch((function(){}))},sendSms:function(){var t=this,e=this;return!this.$store.state.sendSmsBtnDisabled&&(this.mobile?this.regularMobile.test(this.mobile)?void this.$refs.captcha.show((function(s){t.$store.dispatch("sendSmsFun",{url:v["a"].get_reg_code,mobile:t.mobile,type:t.utype,captcha:s}).then((function(t){200===t.code?e.$message({type:"success",message:e.$store.state.sendSmsMessage}):e.$message.error(e.$store.state.sendSmsMessage)}))})):(this.$message.error("手机号格式不正确"),!1):(this.$message.error("请输入手机号"),!1))}}},b=_,w=(s("f0e0"),Object(l["a"])(b,u,d,!1,null,"ad80326c",null)),$=w.exports,y={name:"Reg",components:{choose:p,register:$},data:function(){return{who:"",utype:0}},created:function(){void 0===this.$route.params.utype?this.who="choose":(this.who="register",this.utype="company"==this.$route.params.utype?1:2)}},C=y,k=Object(l["a"])(C,a,o,!1,null,"3dbfc0e2",null);e["default"]=k.exports},"20a3":function(t,e,s){"use strict";var a=s("b1eb"),o=s.n(a);o.a},"45ce":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s(t.who,{ref:"child",tag:"components",attrs:{mask:t.mask}})],1)},o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},n=[],i={name:"CaptchaTencent",props:["mask"],data:function(){return{}},mounted:function(){if(void 0===window.TencentCaptcha){var t=document.createElement("script"),e=document.getElementsByTagName("head")[0];t.type="text/javascript",t.charset="UTF-8",t.src="https://ssl.captcha.qq.com/TCaptcha.js",e.appendChild(t)}},created:function(){},computed:{},methods:{show:function(t){var e=this;if(""==e.$store.state.config.captcha_tencent_appid)return this.$message.error("请正确配置腾讯防水墙appid"),!1;var s=new window.TencentCaptcha(e.$store.state.config.captcha_tencent_appid,(function(e){0===e.ret&&t(e)}));s.show()}}},r=i,l=s("2877"),h=Object(l["a"])(r,c,n,!1,null,"6b7a70b0",null),p=h.exports,u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},d=[],m={name:"CaptchaVaptcha",props:["mask"],data:function(){return{}},mounted:function(){if(void 0===window.vaptcha){var t=document.createElement("script"),e=document.getElementsByTagName("head")[0];t.type="text/javascript",t.charset="UTF-8",t.src="https://v.vaptcha.com/v3.js",e.appendChild(t)}},created:function(){},computed:{},methods:{show:function(t){var e=this;if(""==e.$store.state.config.captcha_vaptcha_vid)return this.$message.error("请正确配置手势验证vid"),!1;window.vaptcha({vid:e.$store.state.config.captcha_vaptcha_vid,type:"invisible",scene:0,offline_server:""}).then((function(e){e.validate(),e.listen("pass",(function(){var s={code:e.getToken()};t(s)})),e.listen("close",(function(){}))}))}}},f=m,v=Object(l["a"])(f,u,d,!1,null,"7abd7660",null),g=v.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:"验证码",visible:t.showDialog,modal:t.showMadal,width:"350px","close-on-press-escape":!1,"close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.showDialog=e}}},[s("el-form",{attrs:{"label-width":"0px",inline:!0}},[s("el-form-item",{attrs:{label:" "}},[s("el-input",{staticStyle:{width:"120px"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),s("el-form-item",{attrs:{label:" "}},[s("img",{staticClass:"captcha_img",attrs:{src:t.src},on:{click:t.changeImg}})]),s("div",{staticClass:"clearfix"}),s("el-form-item",{attrs:{label:" "}},[s("el-button",{staticStyle:{width:"280px"},attrs:{type:"primary"},on:{click:t.handlerConfirm}},[t._v("确定")])],1)],1)],1)],1)},b=[],w=s("751a"),$=s("d722"),y={name:"CaptchaPicture",props:["mask"],data:function(){return{showDialog:!1,code:"",src:"",secret_str:"",callback:null,showMadal:!1}},mounted:function(){},created:function(){},computed:{},methods:{handlerConfirm:function(){if(""==this.code)return this.$message.error("请输入验证码"),!1;var t={code:this.code,secret_str:this.secret_str};this.callback(t),this.showDialog=!1},show:function(t){this.showDialog=!0,this.callback=t,!0===this.mask&&(this.showMadal=!0),this.changeImg()},changeImg:function(){var t=this;w["a"].get($["a"].captcha_picture,{}).then((function(e){t.secret_str=e.data.secret_str,t.src=e.data.src})).catch((function(){}))}}},C=y,k=(s("20a3"),Object(l["a"])(C,_,b,!1,null,"889dadc6",null)),x=k.exports,T={name:"Captcha",props:["mask"],components:{ctencent:p,cvaptcha:g,cpicture:x},data:function(){return{who:""}},mounted:function(){},created:function(){this.who=""==this.$store.state.config.captcha_type?"picture":this.$store.state.config.captcha_type,this.who="c"+this.who},computed:{},methods:{show:function(t,e,s){1==this.$store.state.config.captcha_open&&(void 0===e&&void 0===s||"pwd"==e&&parseInt(s)>=this.$store.state.config.captcha_show_by_pwd_error||"code"==e&&parseInt(s)>=this.$store.state.config.captcha_show_by_code_error)?this.$refs.child.show(t):t()}}},S=T,j=Object(l["a"])(S,a,o,!1,null,"0fcc087a",null);e["a"]=j.exports},"6c0b":function(t,e,s){},a58c:function(t,e,s){},b1eb:function(t,e,s){},c878:function(t,e,s){"use strict";var a=s("6c0b"),o=s.n(a);o.a},f0e0:function(t,e,s){"use strict";var a=s("a58c"),o=s.n(a);o.a}}]);